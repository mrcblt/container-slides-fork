<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>

<title>ContainerConf: GitOps</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/css/reveal.css"/>
<link rel="stylesheet" href="themes/theme2020.css" id="theme"/>
<link rel="stylesheet" href="themes/common.css" id="theme"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.0.2/styles/rainbow.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css"/>
<script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/css/print/pdf.css' : 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>
</head>

<body>
<div class="reveal">
<div class="slides">

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        <!-- .slide: data-background="images/barn-raising-unsplash.jpg" class="center" style="vertical-align: bottom; text-shadow: 2px 2px 5px black; background: rgba(0, 0, 0, 0.5); padding-left: 1em; padding-right: 1em;" -->

        # Automatisierung der Infrastruktur mit GitOps <!-- .element: style="color: rgb(251, 171, 70); text-shadow: 2px 2px 5px black;" -->

        Nicholas Dille

        ![](images/coc_ohnejahr_weiss_bunt.svg)
        <!-- .element: style="width: 35%; float: right;" -->

        <i class="fab fa-docker" style="width: 1.5em; text-align: center;"></i> Docker Captain

        <i class="fab fa-windows" style="width: 1.5em; text-align: center;"></i> Microsoft MVP

        <i class="fab fa-twitter" style="width: 1.5em; text-align: center;"></i> @nicholasdille
    </textarea></section>

    <section data-markdown="000_introduction/02_bio.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Lernziele

        https://www.containerconf.de/kubernetes_1.php

        45 Minuten

        - Verst√§ndnis von GitOps
        - Abgrenzung zu CI/CD
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Agenda

        Definition of GitOps

        CIOps

        Projekte

        Demos
    </textarea></section>

    <section data-markdown="140_gitops/quote_keysey_hightower.md" data-separator="^---$" data-separator-vertical="^--$"></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## What is GitOps?

        Continuous Deployment for Cloud Native Applications

        Developer centric experience when operating infrastructure

        Version control as single source of truth

        Declarative infrastructure as desired state

        Invented by WeaveWorks in 2017
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## How to do GitOps?

        Version control as single source of truth

        Declarative infrastructure to describe desired state

        Controller to *make it so*

        PULL

        XXX recreate image from https://www.gitops.tech/#pull-based-deployments
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## You are doing CIOps

        Version control as single source of truth

        Declarative infrastructure to describe desired state

        CI/CD tool

        PUSH

        XXX recreate image from https://www.gitops.tech/#push-based-deployments

        ### Goal

        Pipeline-as-code

        Fully automated deployments

        Redeploy regularly
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Challenge: Privileges

        Push requires CI/CD pipeline to be god

        Pull separates concerns
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Implementations

        FluxCD v1

        GitOps Toolkit (Flux v2)

        ArgoCD

        kapp-controller
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Implementations: FluxCD

        FluxCD v1 (fluxcd/flux, https://fluxcd.io/)

        - WeaveWorks
        - First implementation
        - Envisioned
        - Supports: plain YAML, any templating tool
        - Helm Operator (fluxcd/helm-operator, https://docs.fluxcd.io/projects/helm-operator/en/stable/)

        DEMO?
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Implementations: GitOps Toolkit

        GitOps Toolkit

        - Flux v2 (fluxcd/toolkit, https://toolkit.fluxcd.io/)
        - Source Controller (fluxcd/source-controller)
        - Kustomize Controller (fluxcd/kustomize-controller)
        - Helm Controller (fluxcd/helm-controller)
        - Notification Controller (fluxcd/notification-controller)
        - CLI gotk

        XXX recreate image from https://toolkit.fluxcd.io/#gitops-toolkit

        DEMO!

        XXX recreate image from https://github.com/fluxcd/kustomize-controller#define-a-kustomization
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Implementations: ArgoCD

        ArgoCD (argoproj/argo-cd, https://argoproj.github.io/argo-cd/)

        - Nice web UI
        - Supports: plain YAML, Kustomize, Helm, ksonnet, jsonnet, any other templating tool as plugin
        - CLI argocd

        DEMO!
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Implementations: kapp-controller

        kapp-controller (k14s/kapp-controller)

        - VMware Tanzu
        - Carvel formerly k14s
        - Suite of tools
        - Supports: kapp (package manager), ytt (templating)

        DEMO!
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Challenge: Secrets

        XXX describe

        Vault Operator (banzaicloud/bank-vaults)

        Secrets (bitnami-labs/sealed-secrets, mozilla/sops)
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Challenge: Logic

        XXX describe

        Logic (init containers, sidecars, controller/operator)
    </textarea></section>

    <section data-markdown="" data-separator="^---$" data-separator-vertical="^--$"><textarea data-template="">
        ## Summary

        XXX

        XXX https://github.com/argoproj/gitops-engine

        XXX https://www.gitops.tech/
    </textarea></section>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/js/reveal.min.js" type="application/javascript"></script>
<script>
    Reveal.initialize({
        //width: 1920,
        //height: 1080,
        //minScale: 1,
        //maxScale: 1,
        controls: true,
        controlsTutorial: false,
        controlsLayout: 'bottom-right',
        progress: true,
        slideNumber: false,
        hash: true,
        history: true,
        keyboard: true,
        overview: true,
        center: false,
        navigationMode: 'default',
        shuffle: false,
        fragments: true,
        fragmentInURL: true,
        embedded: false,
        help: true,
        showNotes: false,
        autoPlayMedia: null,
        preloadIframes: null,
        defaultTiming: 120,
        totalTime: 30,
        minimumTimePerSlide: 0,
        mouseWheel: false,
        hideInactiveCursor: true,
        hideCursorTime: 3000,
        hideAddressBar: true,
        previewLinks: false,
        transition: 'convex',
        transitionSpeed: 'default',
        backgroundTransition: 'fade',
        viewDistance: 3,
        mobileViewDistance: 2,
        parallaxBackgroundImage: '',
        parallaxBackgroundSize: '',

        allottedTime: 10 * 60 * 1000,
        keyboard: {
            // pause/resume time when Enter is pressed
            13: () => {
                ElapsedTimeBar.isPaused ? ElapsedTimeBar.resume() : ElapsedTimeBar.pause();
            },
            // reset timer when 'r' is pressed
            82: () => {
                ElapsedTimeBar.reset();
            }
        },

        dependencies: [
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/zoom-js/zoom.js', async: true },
            { src: 'https://cdn.jsdelivr.net/npm/reveal.js@3.9.2/plugin/notes/notes.js' },
            { src: 'plugins/elapsed-time-bar-2699fc8/elapsed-time-bar.js'}

        ]
    });
</script>

</body>
</html>
